<section id="create-plan" class="full-length">
    <div class="container" id="create-container">
        <form>
            <div class="row">
                <div class="col s12 m12">
                  <div class="card white darken-1">
                    <div class="card-content grey-text">
                      <form>
                        <ul id="progressbar" class="center">
                          <li><span class="active-plan">1</span>&nbsp;&nbsp;Enter Details</li>
                            <li><span>2</span>&nbsp;&nbsp;Add food</li>
                          <li><span>3</span>&nbsp;&nbsp;Review</li>
                          </ul>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <div class="row" id="create-form" ng-if="createPlanView1 && !createPlanView2 && !createPlanView3 && !createPlanView4">
                <div class="col s12 m12">
                    <div class="card white">
                        <div class="card-content grey-text">
                            <form>
                                <div class="row">
                                    <div class="input-field col s5 push-s1">
                                        <label for="plan_name">Name of Plan</label>
                                        <input id="plan_name" type="text" class="validate" required>
                                    </div>
                                    <div class="input-field col s5 push-s1">
                                        <input id="age" type="number" class="validate">
                                        <label for="age">Age</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="input-field col s5 push-s1">
                                        <label for="duration">Duration</label>
                                        <input id="duration" type="number" class="validate" ng-model="durations">{{durations}}
                                    </div>
                                    <div class="input-field col s5 push-s1">
                                        <div class="input-field col s5 push-s1">
                        <input id="imperial" class="with-gap" name="group4" value="1" type="radio" checked />
                       <label for="imperial">Imperial</label>
                        </div>
                         <div class="input-field col s5 push-s1">
                           <input class="with-gap" name="group4" value="2" type="radio" id="metric" />
                            <label for="metric">Metric</label>
                         </div>
                        </div>
                  </div>
                  <div class="row">
                       <div class="input-field col s5 push-s1">
                        <label for="goal">Goal in one line</label>
                        <input id="goal" type="text" class="validate">
                        </div>
                      <div class="col s5 push-s1" id="imperial-view">
                          <div class="row">
                              <div class="input-field col s4 push-s1">
                                  <input id="feets" type="number" class="validate">
                                </div>
                              <div class="col s1">
                                <span class="unit">Ft</span>
                              </div>
                              <div class="input-field col s4 push-s1">
                                  <input id="inches" type="number" class="validate">
                                </div>
                              <div class="col s1">
                                <span class="unit">In</span>
                              </div>
                          </div>
                      </div>
                      <div class="col s5 push-s1" id="metric-view">
                          <div class="row">
                              <div class="input-field col s6 push-s1">
                                  <input id="cms" type="number" class="validate">
                                </div>
                              <div class="col s1">
                                  <span class="unit">cms</span>
                                </div>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="input-field col s5 push-s1">
                        <label for="tags">Tags</label>
                        <input id="tags" type="text" class="validate">
                    </div>
                       <div class="input-field col s5 push-s1">
                        <input id="weight" type="number" class="form-control validate" required>
                        <label for="weight">Weight (in kgs)</label>
                      </div>
                  </div>
                  <div class="row">
                  <div class="right" id="gender">
                       <div class="input-field col s12"><label>Gender</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input id="test5" class="with-gap" name="group3" type="radio" checked />
                        <label for="test5">Male</label>&nbsp;&nbsp;
                        <input id="test4" class="with-gap" name="group3" type="radio" />
                        <label for="test4">Female</label>
                        </div>
                      </div>
                  </div>
                  <div class="row">
                    <div class="input-field col s9 offset-s1">
                      <label for="description">Description</label>
                      <input id="description" type="text" class="validate">
                    </div>   
                  </div>    
                </div>
            </form>
              <div class="row">
                  <div class="col s12">
                    <div class="center-btn">
                        <a class="waves-effect waves-light btn" ng-click="switchCreatePlanViews(2)">Next</a>
                    </div>
                      <br><br>
                  </div>
              </div>
        </div>
    </div>
</div>
    
 <div ng-if="!createPlanView1 && createPlanView2 && !createPlanView3 && !createPlanView4">
     
     <div class="row">
        <div class="col s12 m12">
          <div class="card white">
              <div class="container cont-create">
                <div class="card-content black-text">
                    <div class="row c">
                         <div class="col s12 m12">
                           <hr>
                             <div class="row">
                                 <div class="col m3 vertical-line nutri">
                                     <div class="row">
                                         <div class="col m12">
                                            <p class="center down">Your food plan for</p>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="col m2 vertical-line down nutri">
                                    <div class="row">
                                         <div class="col m3">
                                             <a href="#" ng-click="dayCount=dayCount-1"><i class="material-icons down">navigate_before</i></a>
                                         </div>
                                         <div class="col m6">
                                            <p class="center down">Day {{durations}}</p>
                                         </div>
                                         <div class="col m3">
                                             <a href="#" ng-click="dayCount=dayCount+1;nextDayPlan()"><i class="material-icons down">navigate_next</i></a>
                                         </div>
                                     </div>
                                 </div>
                                 <div class="col m2 vertical-line down nutri">
                                     <div class="row">
                                         <div class="col m3">
                                             <a href="#"><i class="material-icons down">navigate_before</i></a>
                                         </div>
                                         <div class="col m6">
                                            <p class="center down">Week{{weekCount}}</p>
                                         </div>
                                         <div class="col m3">
                                             <a href="#" ng-click="weekCount=weekCount+1"><i class="material-icons down">navigate_next</i></a>
                                         </div>
                                     </div>
                                     
                                 </div>
                                 <div class="col m5 nutri">
                                     <div class="row">
                                         <div class="col m6">
                                            <p class="down">Copy to</p>
                                         </div>
                                         <div class="col m6">
                                            <i class="material-icons down nutri">date_range</i>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                            <hr>
                        </div>
                    </div>
                 
  
                    <div ng-repeat="key in mealPlanNameArray track by $index" class="hor-line">
                        <div class="row">
                            <div class="col m12">
                                <div class="row">
                                    <div class="col m1 center">
                                        <a ng-click="clearMeal($index)">
                                            <i class="material-icons cyan-text item-align center">delete</i>
                                        </a>
                                    </div>
                                    <div class="col m2 left">
                                        <input type="text" value="{{key.mealname}}" id="meals" />
                                    </div>
                                    <div class="col m1">
                                        <input type="number" class="cyan-text time-input" value="{{key.hours}}" max="12" min="1" validate />
                                    </div>
                                     <div class="col m1 shift-time-left">
                                        <input type="number" id="mins" class="cyan-text time-input shift-time-left" value="{{key.minutes}}" max="59" min="0" validate />
                                    </div>
                                     <div class="col m1">
                                        <input class="cyan-text time-input shift-ampm-left" value="{{key.ampm}}" validate/>
                                    </div>
                                </div>
                            </div>
                        </div>
                         
                            <div class="col s12" ng-repeat="item1 in key.ingredient track by $index">
                                <div class="row" ng-if="nutrientValue.length>0">
                                    <div class="col s1 push-s5 center">
                                        <p class="meal-text">Amt</p>
                                    </div>
                                    <div class="col s1 push-s5 center">
                                        <p class="meal-text">Carbs</p>
                                    </div>
                                    <div class="col s1 push-s5 center">
                                        <p class="meal-text">Proteins</p>
                                    </div>
                                    <div class="col s1 push-s5 center">
                                        <p class="meal-text">Fats</p>
                                    </div>
                                    <div class="col s1 push-s5 center">
                                        <p class="meal-text">Fiber</p>
                                    </div>
                                </div>
                                <div class="row selected-meal-ingredient-list">
                                         <div class="col m4">
                                        <p class="meal-text">{{item1.shrt_desc}}</p> 
                                     </div>
                                     <div class="col m1">
                                        <input type="number" class="serving" min="0" value="1" ng-model="amount">
                                     </div>
                                     <div class="input-field col s3">
                                        <select ng-model="hours">
                                            <option value="" disabled selected class="meal-text">Hours</option>
                                            <option value="1">1</option> 
                                            <option value="2">2</option> 
                                            <option value="3">3</option> 
                                            <option value="4">4</option> 
                                            <option value="5">5</option> 
                                            <option value="6">6</option> 
                                            <option value="7">7</option> 
                                            <option value="8">8</option> 
                                            <option value="9">9</option> 
                                            <option value="10">10</option> 
                                            <option value="11">11</option> 
                                            <option value="12">12</option> 
                                        </select>
                                    </div>
                                     <div class="col m1">
                                        <p class="meal-text">{{item1.carbohydrate * amount | number}}</p>
                                     </div>
                                     <div class="col m1">
                                        <p class="meal-text">{{item1.protein * amount | number}}</p>
                                     </div>
                                     <div class="col m1">
                                        <p class="meal-text">{{item1.lipid_tot * amount | number}}</p>
                                     </div>
                                     <div class="col m1">
                                        <p class="meal-text">{{item1.fiber_td * amount | number}}</p>
                                     </div>
                                     <div class="col m1 center">
                                        <a ng-click="removeIngredientsFromSavedMeal($index)">
                                            <i class="material-icons b" >delete</i>
                                        </a>
                                     </div> 
                                </div>
                                   
                            </div>
                        <div class="row">
                            <div class="col s12">
                                <span id="shortcut-menu">
                                    <a class="cyan-text">Quick Tools</a>&nbsp;&nbsp;
                                    <span class="cyan-text">|</span>&nbsp;&nbsp;
                                    <a class="cyan-text" ng-click="openCreatePlanModal($index)">Add Food</a></span>
                            </div>
                        </div>
                        
                      </div>
                  
  
              </div>
                  <div class="row">
                      <div class="col m12">
                          <div class="row">
                              <div class="col s3">
                                 <a class="btn-floating btn-small waves-effect waves-light" id="add-meal-button" ng-click="triggerAddMealModal()"><i class="material-icons add-button routine">add</i></a>
                                  <h6 class="nutri routine">&nbsp;&nbsp;Add Meal</h6>
                              </div>
                          </div>
                      </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
     
     <div class="row">
        <div class="col s12 m12">
          <div class="card white" id="recipe-card">
            <div class="card-content black-text">
                <p style="margin-left: 10px" class="card-title left" id="recipe-title">Nutritional Information</p>
            </div>
          </div>
        </div>
    </div>
     <div class="row">
        <div class="col s12 center">
            <a class="waves-effect waves-light btn center" ng-click="switchCreatePlanViews(1)">Back</a>
            <a class="waves-effect waves-light btn center"  ng-click="switchCreatePlanViews(3)">Next</a>
        </div>
     </div>
        </div>
    
    <!-- Add Meal Modal -->
    
    <div id="add-meal-modal" class="modal modal-fixed-footer">
        <div class="modal-content">
            <div class="row">
                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="meal_name" type="text" class="validate" ng-model="meal">
                            <label for="meal_name">Meal name</label>
                        </div>
                    </div>
                    <p>Meal Time</p>
                    <div class="row">
                     <div class="input-field col s3">
                        <select ng-model="hours">
                            <option value="" disabled selected class="meal-text">Hours</option>
                            <option value="1">1</option> 
                            <option value="2">2</option> 
                            <option value="3">3</option> 
                            <option value="4">4</option> 
                            <option value="5">5</option> 
                            <option value="6">6</option> 
                            <option value="7">7</option> 
                            <option value="8">8</option> 
                            <option value="9">9</option> 
                            <option value="10">10</option> 
                            <option value="11">11</option> 
                            <option value="12">12</option> 
                        </select>
                    </div>
                    <div class="input-field col s3">
                       <select ng-model="minutes">
                           <option value="" disabled selected class="meal-text">Minutes</option>
                           <option value="1">1</option> 
                           <option value="2">2</option> 
                                    <option value="3">3</option> 
                                    <option value="4">4</option> 
                                    <option value="5">5</option> 
                                    <option value="6">6</option> 
                                    <option value="7">7</option> 
                                    <option value="8">8</option> 
                                    <option value="9">9</option> 
                                    <option value="10">10</option> 
                                    <option value="11">11</option> 
                                    <option value="12">12</option> 
                                    <option value="13">13</option> 
                                    <option value="14">14</option> 
                                    <option value="15">15</option> 
                                    <option value="16">16</option> 
                                    <option value="17">17</option> 
                                    <option value="18">18</option> 
                                    <option value="19">19</option> 
                                    <option value="20">20</option> 
                                    <option value="21">21</option> 
                                    <option value="22">22</option> 
                                    <option value="23">23</option> 
                                    <option value="24">24</option> 
                                    <option value="25">25</option> 
                                    <option value="26">26</option> 
                                    <option value="27">27</option> 
                                    <option value="28">28</option> 
                                    <option value="29">29</option> 
                                    <option value="30">30</option> 
                                    <option value="31">31</option> 
                                    <option value="32">32</option> 
                                    <option value="33">33</option> 
                                    <option value="34">34</option> 
                                    <option value="35">35</option> 
                                    <option value="36">36</option> 
                                    <option value="37">37</option> 
                                    <option value="38">38</option> 
                                    <option value="39">39</option> 
                                    <option value="40">40</option> 
                                    <option value="41">41</option> 
                                    <option value="42">42</option> 
                                    <option value="43">43</option> 
                                    <option value="44">44</option> 
                                    <option value="45">45</option> 
                                    <option value="46">46</option> 
                                    <option value="47">47</option> 
                                    <option value="48">48</option> 
                                    <option value="49">49</option> 
                                    <option value="50">50</option> 
                                    <option value="51">51</option> 
                                    <option value="52">52</option> 
                                    <option value="53">53</option> 
                                    <option value="54">54</option> 
                                    <option value="55">55</option> 
                                    <option value="56">56</option> 
                                    <option value="57">57</option> 
                                    <option value="58">58</option> 
                                    <option value="59">59</option> 
                                     </select>
                                 </div>
                                <div class="input-field col s3">
                                    <select ng-model="ampm">
                                      <option value="AM">AM</option>
                                      <option value="PM">PM</option>
                                    </select>
                                </div>
                        </div>                              
                        </div>
                 <br><br><br><br>
                <div class="row">
                        <div class="col s12">
                            <div class="center-btn">
                                <a href="#" class="waves-effect waves-light btn largebtn" ng-click="addMeal(meal)">CREATE A MEAL</a>
                            </div>
                        </div>
                    </div>
                        </div>
                   
              
                    </div>
                  
            
                </form>
        
            </div>
     
        </div>
    </div>
     
     <!-- Nutritional  Information -->
     



     <!-- Create Plan Modal -->
     
        <div id="create-plan-modal" class="modal">
            <a href="#!" ng-click="emptyModalContents()" class=" modal-action modal-close waves-effect waves-green btn-flat right">X</a>
            <div class="modal-content">
                <div class="row">
                    <div class="col m6">
                        <div class="card white create-search-box" id="searchcard"> <!-- SEARCH-BOX -->
                         <div class="card-content black-text">
                             <textarea id="searchbox" placeholder="Search people & places" ng-model="query" class="form-control"></textarea>
                             <button class="fa fa-search search-ingredient" ng-click="searchPlan(query)" type="submit"></button>
                         </div> <!-- END OF SEARCH-BOX -->
                        </div>
                    </div>
                    <div class="col m6">
                    <p>Hello</p>
                    </div>
                    <br>
                        <div class="row">
                            <div class="col m6 create-modal-half1">
                                <div ng-repeat="detail in details | limitTo:7 track by $index">
                                     <p>
                                        <input type="checkbox" class="filled-in" id="filled-in-box{{$index}}"  checklist-model="nutrientValue" checklist-value="detail"/>
                                        <label for="filled-in-box{{$index}}" id="check-label" class="ing-text">{{detail.shrt_desc}} </label>
                                    </p>
                                </div>
                            </div>
                    <div class="col m6">
                        <div class="nutsection" ng-if="nutrientValue.length>0">

                             <div class="row hline" >
                                <div class="col m3">
                                    <p class="a ahead servehead">Serving:</p>
                                </div>
                                <div class="col m2">
                                     <input type="text" id="serving" value="1" ng-model="ingQuantity"/>
                                </div>
                                 <div class="col m3">
                                   <p class="a ahead">Amt</p>
                                </div>
                                <div class="col m2">
                                   <p class="a ahead">Amt</p>
                                </div>
                            </div>

                          <div class="row hline" >
                                <div class="col m6">
                                    <p class="a b ahead">Calories (kcal)</p>
                                </div>
                                <div class="col m6">
                                    <p class="a b">{{nutrientValue[nutrientValue.length-1].energy_kcal}}</p>
                                </div>
                            </div>
                            <div class="row hline">
                                <div class="col m6 ">
                                    <p class="a b ahead">Proteins</p>
                                </div>
                                <div class="col m6">
                                    <p class="a b">{{nutrientValue[nutrientValue.length-1].protein}}</p>
                                </div>
                            </div>
                            <div class="row hline">
                                <div class="col m6 ">
                                    <p class="a b ahead">Fats</p>
                                </div>
                                <div class="col m6">
                                    <p class="a b">{{nutrientValue[nutrientValue.length-1].lipid_tot}}</p>
                                </div>
                            </div>
                            <div class="row hline">
                                <div class="col m6 ">
                                    <p class="a b ahead">Carbohydrates</p>
                                </div>
                                <div class="col m6">
                                       <p class="a b">{{nutrientValue[nutrientValue.length-1].carbohydrate}}</p>
                                </div>
                            </div>
                            <div class="row hline">
                                <div class="col m6 ">
                                    <p class="a b ahead">Sodium</p>
                                </div>
                                <div class="col m6">
                                       <p class="a b">{{nutrientValue[nutrientValue.length-1].sodium}}</p>
                                </div>
                            </div>
                            <div class="row hline">
                                <div class="col m6 ">
                                    <p class="a b ahead">Fiber</p>
                                </div>
                                <div class="col m6">
                                       <p class="a b">{{nutrientValue[nutrientValue.length-1].fiber_td}}</p>
                                </div>
                            </div>
                            <div class="row hline">
                                <div class="col m6 ">
                                    <p class="a b ahead">Cholestrol</p>
                                </div>
                                <div class="col m6">
                                       <p class="a b">{{nutrientValue[nutrientValue.length-1].cholestrl}}</p>
                                </div>
                            </div>   
                    </div>
                        <p>{{mealPlanNameArray[currentMealPlanName].mealname}}</p>
                        <br><br>

                         <div class="row" ng-repeat="item in nutrientValue" >
                                <div class="col m6 meal-list">
                                    <p ng-if="nutrientValue.length>0" class="ing-text meal-list">{{item.shrt_desc}}</p>
                                </div>
                                <div class="col m6 meal-list">
                                    <a href="#" ng-click="removeIngredient(item)"><i ng-if="nutrientValue.length>0" class="material-icons meal-list right dustbin">delete</i></a>
                                </div>
                         </div>
                    </div>
                </div>
            </div>
                <div class="row">
                    <div class="col m12 center">
                        <a ng-click="addContents()" class="waves-effect waves-light btn btn-social">Add</a>
                        <a ng-click="saveAndContinue()" class="waves-effect waves-light btn btn-social largebtn">Save and Continue</a>
                    </div>
                </div>
                </div>
            </div>
        </div>
     
      </div>
    </div>
</div>
</div>
</section>

 
          


<script>
$(document).ready(function () {
  $('select').material_select();
});
    
  

</script>