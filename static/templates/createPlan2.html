<ul class="dropdown-content filter-ul" id="dropdown2">
    <li ng-repeat="filter in filts track by $index"><input checked="checked"
    checklist-model="foodgroup" checklist-value="filter['0']" class="filled-in"
    id="filled-in-box1{{$index}}" type="checkbox"> <label for=
    "filled-in-box1{{$index}}">{{filter['0']}}</label></li>
</ul>


<ul class="dropdown-content filter-ul" id="dropdown3">
    <li ng-repeat="filter in details.sortlist track by $index"><input class=
    "filled-in" id="filledin{{$index}}" name="sortradio" ng-click=
    "searchPlan(query, 1, sortby)" ng-model="sortby" type="radio" value=
    "{{filter}}"> <label for="filledin{{$index}}">{{filter.split('_',
    1)[0]}}</label></li>
</ul>


<section id="planPage">
    <div class="row">
        <div class="col s12 m12">
            <div class="container" id="create-container">
                <div class="card white" id="create_back_card">
                    <div class="container graph_cont">
                        <div class="card-content black-text">
                            <div class="row" id="graph-area">
                                <div class="col s12 m8 progress-div">
                                    <div ng-repeat=
                                    "key in mealPlanNameArray track by $index">
                                        <div class="row progress_label">
                                            <div class="col s12 m2">
                                                <p class="prog-text">
                                                {{key.mealname}}</p>
                                            </div>


                                            <div class="col s6">
                                                <div class=
                                                "progress progress-spacing">
                                                    <div class="determinate"
                                                    style=
                                                    "width: {{(calcMealNutrientVal($index, 'energy_kcal') / calcDayNutrientVal('energy_kcal', false) )*100}}%">

                                                    </div>
                                                </div>
                                            </div>


                                            <div class="col s3 m4">
                                                <p class=
                                                "prog-text linear_val">
                                                {{calcMealNutrientVal($index,
                                                'energy_kcal', false) |
                                                number:0}} Calories</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--                             ROUND PROGRESSBARS -->


                                <div class="col s12 m4">
                                    <div clas="row">
                                        <div class="col s4 m4 center">
                                            <div animation="easeInOutQuart"
                                            animation-delay="0" bgcolor=
                                            "#EAEAEA" clockwise="true" color=
                                            "#6639B6" current=
                                            "((calcDayNutrientVal('protein_tot')*4)/calcDayNutrientVal('energy_kcal'))*100"
                                            duration="800" max="100" radius=
                                            "50" responsive="false"
                                            round-progress="" rounded="true"
                                            semi="false" stroke="4">
                                            </div>


                                            <p class="center graph-text">
                                            PROTEINS</p>


                                            <p class="center graph-value">
                                            {{((calcDayNutrientVal('protein_tot',
                                            false)*4)/calcDayNutrientVal('energy_kcal',
                                            false))*100 |number:0 }} %</p>


                                            <p class="ing-text nutgraph_val">
                                            {{calcDayNutrientVal('protein_tot',
                                            false) | number:0}}g</p>
                                        </div>


                                        <div class="col s4 m4 center">
                                            <div animation="easeInOutQuart"
                                            animation-delay="0" bgcolor=
                                            "#EAEAEA" clockwise="true" color=
                                            "#FE6433" current=
                                            "((calcDayNutrientVal('carbohydrate_tot')*4)/calcDayNutrientVal('energy_kcal'))*100"
                                            duration="800" max="100" radius=
                                            "50" responsive="false"
                                            round-progress="" rounded="true"
                                            semi="false" stroke="4">
                                            </div>


                                            <p class="center graph-text">
                                            CARBS</p>


                                            <p class="center graph-value">
                                            {{((calcDayNutrientVal('carbohydrate_tot')*4)/calcDayNutrientVal('energy_kcal',
                                            false))*100 |number:0 }}%</p>


                                            <p class="ing-text nutgraph_val">
                                            {{calcDayNutrientVal('carbohydrate_tot',
                                            false) | number:0}} g</p>
                                        </div>


                                        <div class="col s4 m4 center">
                                            <div animation="easeInOutQuart"
                                            animation-delay="0" bgcolor=
                                            "#EAEAEA" clockwise="true" color=
                                            "#FDC106" current=
                                            "((calcDayNutrientVal('fat_tot', false)*9)/calcDayNutrientVal('energy_kcal', false))*100"
                                            duration="800" max="100" radius=
                                            "50" responsive="false"
                                            round-progress="" rounded="true"
                                            semi="false" stroke="4">
                                            </div>


                                            <p class="center graph-text">
                                            FATS</p>


                                            <p class="center graph-value">
                                            {{((calcDayNutrientVal('fat_tot',
                                            false)*9)/calcDayNutrientVal('energy_kcal',
                                            false))*100 |number:0 }} %</p>


                                            <p class="ing-text nutgraph_val">
                                            {{calcDayNutrientVal('fat_tot',
                                            false) | number:0}} g</p>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class=
                            "row horizontal-line vertical-line top-line left-line">
                                <div class="col s12 m2">
                                    <p class="center tab_head ing-text">Food
                                    plan for</p>
                                </div>


                                <div class="col s6 m3 left-line">
                                    <div class="row">
                                        <div class="col s3">
                                            <a class="ing-text tab_head right"
                                            href="#" ng-click=
                                            "updateDayPlan('week_no','-1', 1)"><i class="material-icons left_arrow_pos">
                                            arrow_drop_up</i></a>
                                        </div>


                                        <div class="col s6">
                                            <p class="ing-text tab_head center"
                                            ng-model="dayplan.week_no">Week
                                            {{dayplan.week_no}}</p>
                                        </div>


                                        <div class="col s3">
                                            <a class="ing-text tab_head" href=
                                            "#" ng-click=
                                            "updateDayPlan('week_no','1', 1)"><i class="material-icons right_arrow_pos">
                                            arrow_drop_down</i></a>
                                        </div>
                                    </div>
                                </div>


                                <div class="col s6 m3 left-line">
                                    <div class="row">
                                        <div class="col s3 center">
                                            <a class="ing-text tab_head center"
                                            href="#" ng-click=
                                            "updateDayPlan('day_no','-1', 1)"><i class="material-icons left_arrow_pos">
                                            arrow_drop_up</i></a>
                                        </div>


                                        <div class="col s6 center">
                                            <p class="ing-text tab_head"
                                            ng-model="dayplan.week_no">Day
                                            {{dayplan.day_no}}</p>
                                        </div>


                                        <div class="col s3 center">
                                            <a class="ing-text tab_head" href=
                                            "#" ng-click=
                                            "updateDayPlan('day_no','1', 1)"><i class="material-icons right_arrow_pos">
                                            arrow_drop_down</i></a>
                                        </div>
                                    </div>
                                </div>


                                <div class="col s6 m2 left-line">
                                    <div class="row">
                                        <div class="col s8 m8">
                                            <p class=
                                            "ing-text tab_head center">Copy
                                            to&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                        </div>


                                        <div class=
                                        "col s4 m4 meal-text tab_head">
                                            <i class="material-icons copy_icon"
                                            ng-click=
                                            "openJumpToModal('copy')">date_range</i>
                                        </div>
                                    </div>
                                </div>


                                <div class="col s6 m2 left-line">
                                    <div class="row">
                                        <div class="col s8 m8">
                                            <p class=
                                            "ing-text tab_head center">Jump
                                            to&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                        </div>


                                        <div class=
                                        "col s4 m4 meal-text tab_head">
                                            <i class="material-icons copy_icon"
                                            ng-click=
                                            "openJumpToModal('jump')">date_range</i>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div id="meal_list_card">
                                <div class="hor-line" ng-repeat=
                                "(index1, meal) in mealPlanNameArray">
                                    <div class="row">
                                        <div class="col s2 m1">
                                            <a ng-click=
                                            "clearMeal(index1)"><i class=
                                            "material-icons item-align createbin">
                                            delete</i></a>
                                        </div>


                                        <div class="col s3 m2">
                                            <div class="editabletext ing-text"
                                            contenteditable="" id="meals"
                                            ng-blur="updateDayMealPlan(index1)"
                                            ng-model="meal.mealname">
                                            </div>
                                        </div>


                                        <div class="col s1 m1">
                                            <span class="separate">|</span>
                                        </div>


                                        <div class="col s2 m2">
                                            <input id="exampleInput" name=
                                            "input" ng-blur=
                                            "updateDayMealPlan(index1)"
                                            ng-model="meal.time" placeholder=
                                            "HH:mm:ss" required="" type="time">
                                        </div>
                                    </div>


                                    <div class="row" ng-if=
                                    "meal.mealingredient.length&gt;0">
                                        <div class=
                                        "col s12 center editabletext ing-text">
                                        <p>Ingredients:</p>
                                        </div>
                                    </div>


                                    <div class="row center lowbo" ng-if=
                                    "meal.mealingredient.length&gt;0">
                                        <div class="col s3 m3">
                                            <p class="meal-head center">Name</p>
                                        </div>


                                        <div class="col s1 m1">
                                            <p class="meal-head right">Amt</p>
                                        </div>


                                        <div class="col s1 m2">
                                            <p class="meal-head ">Unit</p>
                                        </div>


                                        <div class="col s1 m2">
                                            <p class="meal-head center">Carbs</p>
                                        </div>


                                        <div class="col s1 m2 pull-m1">
                                            <p class="meal-head center">Proteins</p>
                                        </div>


                                        <div class="col s1 m1 pull-m1">
                                            <p class="meal-head left">Fats</p>
                                        </div>


                                        <div class="col s1 m1 pull-m1">
                                            <p class="meal-head left">Calories</p>
                                        </div>
                                    </div>
                                    <br>


                                    <div class=
                                    "row valign-wrapper"
                                    ng-repeat=
                                    "(index2, ingredient) in meal.mealingredient">
                                    <div class="col s3 m3 center">
                                            <p class="meal-text ingredient-meal-text"
                                            ng-model="plan.ingredientData">
                                            {{ingredient.ingredient.name}}</p>
                                        </div>


                                        <div class="col s1 m1" style="text-align: center !important">
                                            <input class="" style="text-align:center !important; margin-left: inherit !important;" min="0" 
                                            ng-blur=
                                            "updateMealIngredient(item1)"
                                            ng-model="ingredient.quantity"
                                            ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/"

                                            step="0.25" type="number"> 
                                        </div>


                                        <div class=
                                        "col m2 s2">
                                            <select id="ing_select"
                                            material-select="" ng-change=
                                            "updateIngredientQuantity(index2);updateMealIngredient(ingredient)"
                                            ng-model="ingredient.unit" ng-options=
                                            "unit as unit.description for unit in ingredient.ingredient.measure track by unit.id">
                                            </select>
                                        </div>


                                        <div class="col m1">
                                            <p class="meal-text">
                                            {{ingredient.ingredient.carbohydrate_tot
                                            * ingredient.quantity * ingredient.unit.weight/100 | number:0}}</p>
                                        </div>


                                        <div class="col m1 namecol">
                                            <p class="meal-text">
                                            {{ingredient.ingredient.protein_tot *
                                            ingredient.quantity * ingredient.unit.weight/100 | number:0}}</p>
                                        </div>


                                        <div class="col m1 namecol">
                                            <p class="meal-text">
                                            {{ingredient.ingredient.fat_tot *
                                            ingredient.quantity * ingredient.unit.weight/100 | number:0}}</p>
                                        </div>


                                        <div class="col m1">
                                            <p class="meal-text">
                                            {{ingredient.ingredient.energy_kcal *
                                            ingredient.quantity * ingredient.unit.weight/100 | number:0}}</p>
                                        </div>


                                        <div class="col m1">
                                            <a ng-click=
                                            "removeIngredientsFromSavedMeal(meal.counter, index1)">
                                            <i class=
                                            "material-icons createbin b">delete</i></a>
                                        </div>
                                    </div>


                                    <div class="row" ng-if=
                                    "meal.mealingredient.length&gt;0">
                                        <div class=
                                        "col s12 center editabletext ing-text">
                                        <p>Recipes:</p>
                                        </div>
                                    </div>


                                    <div class="row center lowbo" ng-if=
                                    "meal.mealrecipe.length&gt;0">
                                        <div class="col s4 m4">
                                            <p class="meal-text center">
                                            Name</p>
                                        </div>


                                        <div class="col s3 m3 selcol_serv">
                                            <p class="meal-text">
                                            &nbsp;&nbsp;&nbsp;Servings</p>
                                        </div>


                                        <div class="col s1 m1 push-m1">
                                            <p class="meal-text">Carbs</p>
                                        </div>


                                        <div class="col s1 m1 push-m1">
                                            <p class="meal-text">Proteins</p>
                                        </div>


                                        <div class="col s1 m1 push-m1">
                                            <p class="meal-text">Fats</p>
                                        </div>


                                        <div class="col s1 m1 push-m1">
                                            <p class="meal-text">Calories</p>
                                        </div>
                                    </div>
                                    <br>


                                    <div class="row center lowbo" ng-repeat=
                                    "(index3, recipe) in meal.mealrecipe">
                                        <div class=
                                        "row selected-meal-ingredient-list">
                                            <div class="col s4 m4">
                                                <p class="meal-text recipe-meal-text"
                                                ng-model="plan.ingredientData">
                                                <a href="/recipes/view-recipe/{{recipe.recipe.id}}/"
                                               class="name-a meal-text">
                                                    {{recipe.recipe.name}}</a></p>
                                            </div>


                                            <div class="col s1 m1 selcolr">
                                                <input class="serving" min="0"
                                                ng-blur=
                                                "updateMealRecipe(recipe)"
                                                ng-model="recipe.servings"
                                                ng-pattern=
                                                "/^[0-9]+(\.[0-9]{1,2})?$/"
                                                step="0.25" type="number">
                                            </div>


                                            <div class="col m1 push-m1">
                                                <p class="meal-text recip_nut_no">
                                                {{recipe.recipe.carbohydrate_tot
                                                * recipe.servings |
                                                number:0}}</p>
                                            </div>


                                            <div class="col m1 push-m1">
                                                <p class="meal-text recip_nut_no">
                                                {{recipe.recipe.protein_tot *
                                                recipe.servings | number:0}}</p>
                                            </div>


                                            <div class="col m1 push-m1">
                                                <p class="meal-text recip_nut_no">
                                                {{recipe.recipe.fat_tot *
                                                recipe.servings | number:0}}</p>
                                            </div>


                                            <div class="col m1 push-m1">
                                                <p class="meal-text recip_nut_no">
                                                {{recipe.recipe.energy_kcal *
                                                recipe.servings | number:0}}</p>
                                            </div>


                                            <div class="col m1 push-m1 recipe_dustbin_margin">
                                                <a ng-click=
                                                "removeFromSavedMealRecipe(meal.counter, index3)">
                                                <i class=
                                                "material-icons b createbin">delete</i></a>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s12">
                                            <span id="shortcut-menu">
                                            <a class="cyan-text" ng-click=
                                            "openCreatePlanModal(index1)">Add
                                            Food</a></span> <span class=
                                            "cyan-text">|</span>&nbsp;&nbsp;
                                            <a class="cyan-text" ng-click=
                                            "openMealInfoModal(index1)"><b>Meal
                                            Info</b></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>


                            <div id="cont-create">
                                <div class="row">
                                    <div class="col m12">
                                        <div class="row">
                                            <div class="col s3">
                                                <a class=
                                                "btn-floating btn-small add-meal-btn"
                                                id="add-meal-button" ng-click=
                                                "triggerAddMealModal()"><i class="material-icons">
                                                add</i></a>
                                                
                                                <h6 class="nutri routine">
                                                &nbsp;&nbsp;Add Meal</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--    Nutritional Information -->


        <div class="container" id="create-container">
            <div class="row">
                <div class="col s12 m12">
                    <div class="card white">
                        <div class="card-content black-text">
                            <span class="card-title">Nutritional
                            Information</span><br>


                            <div class="row">
                                <div class="col s6">
                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Energy</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{
                                            calcDayNutrientVal('energy_kcal') |
                                            number:0 }} kcal</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">
                                            Carbohydrates</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{
                                            calcDayNutrientVal('carbohydrate_tot')
                                            | number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Proteins</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{
                                            calcDayNutrientVal('protein_tot') |
                                            number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Fats</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{ calcDayNutrientVal('fat_tot') |
                                            number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Monounsaturated
                                            Fats</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{ calcDayNutrientVal('fa_mono_g',
                                            true) | number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Polyunsaturated
                                            Fats</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{
                                            calcDayNutrientVal('fa_poly_g',true)
                                            | number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Saturated
                                            Fats</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{ calcDayNutrientVal('fa_sat_g',
                                            true) | number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Sugar</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{ calcDayNutrientVal('sugar_tot')
                                            | number:0 }} g</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Fiber</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">&nbsp;&nbsp;
                                            {{ calcDayNutrientVal('fiber_tot')
                                            | number:0 }} g</p>
                                        </div>
                                    </div>
                                </div>


                                <div class="col s6">
                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Cholestrol</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('cholestrl_mg',
                                            true) | number:0}} mg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Sodium</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('sodium_mg',
                                            true) | number:0}} mg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Calcium</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('calcium_mg',
                                            true) | number:0}} mg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text">Iron</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('iron_mg',
                                            true) | number:0}} mg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text-upper">
                                            Vitamin&nbsp;A</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text-upper">
                                            {{calcDayNutrientVal('vitamin_a_iu',
                                            true) | number:0}} IU</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text-upper">
                                            Vitamin&nbsp;B12</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('vitamin_b12_mcg',
                                            true) | number:0}} mcg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text-upper">
                                            Vitamin&nbsp;C</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('vitamin_c_mg',
                                            true) | number:0}} mcg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text-upper">
                                            Vitamin&nbsp;D</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('vitamin_d_mcg',
                                            true) | number:0}} mcg</p>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col s6">
                                            <p class="ing-text-upper">
                                            Vitamin&nbsp;E</p>
                                        </div>


                                        <div class="col s6">
                                            <p class="meal-text">
                                            {{calcDayNutrientVal('vitamin_e_mg',
                                            true) | number:0}} mg</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col s12 center">
                <a class="waves-effect waves-light btn center" ng-href=
                "{{backUrl2}}">Back</a> &nbsp;&nbsp;&nbsp;&nbsp; <a class=
                "waves-effect waves-light btn center" ng-href=
                "{{nextUrl2}}">{{$routeParams.id}}Next</a>
            </div>
        </div>
        <!-- Add Meal Modal-->


        <div class="modal modal-fixed-footer" id="add-meal-modal">
            <div class="modal-content">
                <div class="row">
                    <div class="input-field col s12">
                        <input class="validate" id="meal_name" ng-model=
                        "meal.name" type="text"> <label for="meal_name">Meal
                        name</label>
                    </div>
                </div>


                <div class="row">
                    <div class="col s6">
                        <p>Meal Time</p>
                        <input id="exampleInput" name="input" ng-model=
                        "meal.time" placeholder="HH:mm:ss" required="" type=
                        "time">
                    </div>
                </div>


                <div class="row">
                    <div class="col s12">
                        <div class="center-btn">
                            <a class="waves-effect waves-light btn largebtn"
                            ng-click="addMeal(meal)">CREATE A MEAL</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        
        <!-- Modal for jump to and copy option -->

        <div class="modal modal-fixed-footer" id="jump-to-modal">
            <div class="center-me">
                <h5><b>Select a day of the plan:</b>
                </h5>
            </div>


            <div class="modal-content">
                <div class="row" ng-repeat="week in weekCount">
                    <div class="col s2 weekWidth">
                        {{week.name}}
                    </div>


                    <div class="col s2 dayWidth" ng-click=
                    "daySelect(jumpToModalType, week.id, day.id)" ng-repeat=
                    "day in dayCount">
                        {{day.name}}
                    </div>
                </div>
            </div>
        </div>
        <!-- CREATE PLAN MODAL -->


        <div class="modal" id="add-food-modal">
            <a class=
            "modal-action modal-close waves-effect waves-green btn-flat right">X</a>

            <div class="modal-content">
                <div class="row">
                    <div class="col m6">
                        <div class="col s10 m10">
                            <div class="card white create-search-box" id=
                            "searchcard">
                                <!-- SEARCH-BOX -->


                                <div class="card-content black-text">
                                    <textarea class="form-control" id=
                                    "searchbox" ng-model="query" placeholder=
                                    "Search Ingredient"></textarea>
                                    <button class=
                                    "fa fa-search search-ingredient"
                                    fire-enter="" ng-click="searchPlan(query)"
                                    type="submit"></button>
                                </div>
                            </div>
                            <!-- END OF SEARCH-BOX -->
                        </div>
                        
                        <div class="col s1 m1"
                        ng-disabled="filts !==undefined && filts.length&gt;0">
                            <button class='fa fa-filter search-filter'
                            data-activates='dropdown2' data-beloworigin="true"
                            dropdown-button=""></button>
                        </div>


                        <div  class="col s1 m1"
                        ng-disabled="filts !==undefined && filts.length&gt;0">
                            <button class='fa fa-reorder search-filter'
                            data-activates='dropdown3' data-beloworigin="true"
                            dropdown-button=""></button>
                        </div>
<!--
                        <div class="row">
                            <div ng-class=
                            "{'col s1 m1': filts!==undefined&&filts.length&gt;0}"
                            ng-show=
                            "filts !==undefined && filts.length&gt;0 && searchType==='ingredients'">
                            <button class='fa fa-filter search-filter'
                            data-activates='dropdown2' data-beloworigin="true"
                                dropdown-button=""></button>
                            </div>


                            <div ng-class=
                            "{'col s1 m1': filts!==undefined && filts.length&gt;0}"
                            ng-show="filts !==undefined && filts.length&gt;0">
                                <button class='fa fa-reorder search-filter'
                                data-activates='dropdown3' data-beloworigin=
                                "true" dropdown-button=""></button>
                            </div>


                            <div ng-class=
                            "{'col s10 m10': filts!==undefined&&filts.length&gt;0&&details.sortlist.length&gt;0, 'col s12 m12':filts===undefined || filts.length&lt;=0}">
                            <div class="card white create-search-box" id=
                            "searchcard">
                                      


                                    <div class="card-content black-text">
                                        <textarea class="form-control" id=
                                        "searchbox" ng-model="query"
                                        placeholder=
                                        "Search Ingredient"></textarea>
                                        <button class=
                                        "fa fa-search search-ingredient"
                                        fire-enter="" ng-click=
                                        "searchPlan(query)" type=
                                        "submit"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
-->
                    </div>
                    <div class="col m6">
                    <div class="row">
                        <div class="col m4">
                            Search type:
                        </div>
                        <div class="col m4">
                            <input class="filled-in with-gap" id="searchkind1" name=
                            "searchkind" ng-model="searchType" type="radio"
                            value="ingredients"> <label for=
                            "searchkind1">Ingredients</label>
                        </div>


                        <div class="col m4">
                            <input class="filled-in with-gap" id="searchkind2" name=
                            "searchkind" ng-model="searchType" type="radio"
                            value="recipes"> <label for=
                            "searchkind2">Recipes</label>
                        </div>
                    </div>
                    
                </div>
                </div>


<!--
                <div class="row">
                    <div class="col m6 push-m3">
                        <div class="row">
                            <div class="col m4">
                                Search type:
                            </div>


                            <div class="col m4">
                                <input class="filled-in with-gap" id="searchkind1" name=
                                "searchkind" ng-model="searchType" type="radio"
                                value="ingredients"> <label for=
                                "searchkind1">Ingredients</label>
                            </div>


                            <div class="col m4">
                                <input class="filled-in with-gap" id="searchkind2" name=
                                "searchkind" ng-model="searchType" type="radio"
                                value="recipes"> <label for=
                                "searchkind2">Recipes</label>
                            </div>
                        </div>
                    </div>
                </div>
-->


                <div class="row">
                    <div class="col m6 create-modal-half1">
                        <div class="searchresult-create row">
                            <div ng-repeat=
                            "detail in details.results track by $index">
                                <p><input checklist-model="checklistIngs"
                                checklist-value="detail" class="filled-in" id=
                                "filled-in-box{{$index}}" ng-disabled=
                                "checkToDisable(detail.id)" type="checkbox">
                                <label class="ing-text highlight" for=
                                "filled-in-box{{$index}}" id=
                                "check-label">{{detail.name}}</label></p>
                            </div>
                        </div>


                        <div class="row smallpaginate">
                            <paging ng-if="details !== undefined && details !== []"
                                class="small"
                                page="currentPage" 
                                page-size="6" 
                                total="pageSize"
                                hide-if-empty="{{hideIfEmpty}}"
                                ul-class="{{ulClass}}"
                                li-class="lipageclass"
                                active-class="{{activeClass}}"
                                disabled-class="{{disabledClass}}"
                                show-prev-next="true"
                                text-next-class="acti fa fa-chevron-right"
                                text-prev-class="acti fa fa-chevron-left"
                                text-first-class="acti fa fa-backward"
                                text-last-class="acti fa fa-forward"
                                text-title-page="Page {page}"
                                text-title-first="First Page"
                                text-title-last="Last Page"
                                text-title-next="Next Page"
                                text-title-prev="Previous" 
                                paging-action="searchPlan(query, page)">
                            </paging> 
                        </div>
                    </div>


                    <div class="col m6">
                        <div class="nutsection">
                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a ahead servehead">Serving per
                                    100 grams:</p>
                                </div>
                            </div>


                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b ahead">Calories (kcal)</p>
                                </div>


                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b">
                                    {{checklistIngs[checklistIngs.length-1].energy_kcal}}</p>
                                </div>
                            </div>


                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b ahead">Proteins</p>
                                </div>


                                <div class="col m6">
                                    <p class="a b" ng-if=
                                    "checklistIngs[checklistIngs.length-1]">
                                    {{checklistIngs[checklistIngs.length-1].protein_tot}}</p>
                                </div>
                            </div>


                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b ahead">Fats</p>
                                </div>


                                <div class="col m5" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b">
                                    {{checklistIngs[checklistIngs.length-1].fat_tot}}</p>
                                </div>
                            </div>


                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b ahead">Carbohydrates</p>
                                </div>


                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b">
                                    {{checklistIngs[checklistIngs.length-1].carbohydrate_tot}}</p>
                                </div>
                            </div>


                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b ahead">Fiber</p>
                                </div>


                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b">
                                    {{checklistIngs[checklistIngs.length-1].fiber_tot}}</p>
                                </div>
                            </div>


                            <div class="row hline" ng-if=
                            "checklistIngs[checklistIngs.length-1]">
                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b ahead">Water</p>
                                </div>


                                <div class="col m6" ng-if=
                                "checklistIngs[checklistIngs.length-1]">
                                    <p class="a b">
                                    {{checklistIngs[checklistIngs.length-1].water}}</p>
                                </div>
                            </div>
                        </div>
                        <br>
                        <br>


                        <div class="row" ng-repeat="item in ingredientInModal">
                            <div class="col m10 meal-list">
                                <p class="ing-text meal-list" ng-if=
                                "ingredientInModal.length&gt;0">
                                {{item.name}}</p>
                            </div>


                            <div class="col m2 meal-list">
                                <a href="#" ng-click=
                                "removeIngredient(item)"><i class=
                                "material-icons meal-list right createbin dustbin" ng-if=
                                "ingredientInModal.length&gt;0">delete</i></a>
                            </div>
                        </div>


                        <div class="row" ng-repeat="item in checklistIngs">
                            <div class="col m10 meal-list">
                                <p class="ing-text meal-list" ng-if=
                                "checklistIngs.length&gt;0">{{item.name}}</p>
                            </div>


                            <div class="col m2 meal-list">
                                <a href="#" ng-click=
                                "removeIngredient(item)"><i class=
                                "material-icons meal-list right createbin dustbin" ng-if=
                                "checklistIngs.length&gt;0">delete</i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col m12 center">
                    <a class="waves-effect waves-light btn btn-social largebtn"
                    ng-click=
                    "addContents();calculateTotalInfoForRecipes()">Add</a>
                </div>
            </div>
        </div>
        
        
        <!-- MEAL INFO MODAL-->

        <div class="modal nutrition-modal" id="meal-info-modal">
            <div class="modal-content">
                <h5 class="cyan-text center">
                    Nutritional Information:
                {{mealPlanNameArray[selected].mealname}}</h5>

                <div class="row">
                    <div class="col s6 m6">
                    <table class="bordered responsive-table">
                        <tbody>
                          <tr>
                            <td>Energy</td>
                            <td>{{calcMealNutrientVal(selected, 'energy_kcal') |
                                number:0 }} kcal</td>
                          </tr>
                            <tr>
                            <td>Carbohydrates</td>
                            <td>{{calcMealNutrientVal(selected, 'carbohydrate_tot') |
                                number:0 }} g</td>
                          </tr>
                            <tr>
                            <td>Proteins</td>
                            <td>{{calcMealNutrientVal(selected, 'protein_tot') |
                                number:0 }} g</td>
                          </tr>
                            <tr>
                            <td>Fats</td>
                            <td>{{calcMealNutrientVal(selected, 'fat_tot') |
                                number:0 }} g</td>
                          </tr>
                            <tr>
                            <td>Monounsaturated Fat</td>
                            <td>{{calcMealNutrientVal(selected, 'fa_mono_g', true) |
                                number:0 }} g</td>
                          </tr>
                            <tr>
                            <td>Polyunsaturated Fat</td>
                            <td>{{calcMealNutrientVal(selected, 'fa_poly_g', true) |
                                number:0 }} g</td>
                          </tr>
                            <tr>
                            <td>Saturated Fat</td>
                            <td>{{calcMealNutrientVal(selected, 'fa_sat_g', true) |
                                number:0 }} g</td>
                          </tr>
                            <tr>
                            <td>Sugar</td>
                            <td>{{calcMealNutrientVal(selected, 'sugar_tot') |
                                number:0 }} g</td>
                          </tr>
                          <tr>
                            <td>Fiber</td>
                            <td>{{calcMealNutrientVal(selected, 'fiber_tot') |
                                number:0 }} g</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    
                    <div class="col s6 m6">
                        <table class="bordered responsive-table">
                        <tbody>
                          <tr>
                            <td>Cholesterol</td>
                            <td>{{calcMealNutrientVal(selected, 'cholestrl_mg',
                                            true) | number:0}} mg</td>
                          </tr>
                          <tr>
                            <td>Sodium</td>
                            <td>{{calcMealNutrientVal(selected, 'sodium_mg',
                                            true) | number:0}} mg</td>
                          </tr>
                          <tr>
                            <td>Calcium</td>
                            <td>{{calcMealNutrientVal(selected, 'calcium_mg',
                                            true) | number:0}} mg</td>
                          </tr>
                          <tr>
                            <td>Iron</td>
                            <td>{{calcMealNutrientVal(selected, 'iron_mg',
                                            true) | number:0}} mg</td>
                          </tr>
                          <tr>
                            <td>Vitamin A</td>
                            <td>{{calcMealNutrientVal(selected, 'vitamin_a_iu',
                                            true) | number:0}} IU</td>
                          </tr>
                          <tr>
                            <td>Vitamin B12</td>
                            <td>{{calcMealNutrientVal(selected, 'vitamin_b12_mcg',
                                            true) | number:0}} mcg</td>
                          </tr>
                          <tr>
                            <td>Vitamin C</td>
                            <td>{{calcMealNutrientVal(selected, 'vitamin_c_mg',
                                            true) | number:0}} mg</td>
                          </tr>
                          <tr>
                            <td>Vitamin D</td>
                            <td>{{calcMealNutrientVal(selected, 'vitamin_d_mcg',
                                            true) | number:0}} mcg</td>
                          </tr>
                          <tr>
                            <td>Vitamin E</td>
                            <td>{{calcMealNutrientVal(selected, 'vitamin_e_mg',
                                            true) | number:0}} mcg</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
            </div>
            </div>
        </div>
    </div>
</section>