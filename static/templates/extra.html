<section class="full-length" id="create-plan">
    <div class="container" id="create-container">
        <form>
            <div class="row">
                <div class="col s12 m12">
                    <div class="card white darken-1">
                        <div class="card-content grey-text">
                            <form>
                                <ul class="center" id="progressbar">
                                    <li><span class=
                                    "active-plan">1</span>&nbsp;&nbsp;Enter
                                    Details</li>


                                    <li><span>2</span>&nbsp;&nbsp;Add food</li>


                                    <li><span>3</span>&nbsp;&nbsp;Review</li>
                                </ul>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </form>


        <div class="row" id="create-form" ng-if=
        "createPlanView1 && !createPlanView2 && !createPlanView3 && !createPlanView4">
        <div class="col s12 m12">
                <div class="card white">
                    <div class="card-content grey-text">
                        <form>
                            <div class="row">
                                <div class="input-field col s5 push-s1">
                                    <label for="plan_name">Name of Plan</label>
                                    <input class="validate" id="plan_name"
                                    required="" type="text">
                                </div>


                                <div class="input-field col s5 push-s1">
                                    <input class="validate" id="age" type=
                                    "number"> <label for="age">Age</label>
                                </div>
                            </div>


                            <div class="row">
                                <div class="input-field col s5 push-s1">
                                    <label for="duration">Duration</label>
                                    <input class="validate" id="duration" type=
                                    "number">
                                </div>


                                <div class="input-field col s5 push-s1">
                                    <div class="input-field col s5 push-s1">
                                        <input checked class="with-gap" id=
                                        "imperial" name="group4" type="radio"
                                        value="1"> <label for=
                                        "imperial">Imperial</label>
                                    </div>


                                    <div class="input-field col s5 push-s1">
                                        <input class="with-gap" id="metric"
                                        name="group4" type="radio" value="2">
                                        <label for="metric">Metric</label>
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <div class="input-field col s5 push-s1">
                                    <label for="goal">Goal in one line</label>
                                    <input class="validate" id="goal" type=
                                    "text">
                                </div>


                                <div class="col s5 push-s1" id="imperial-view">
                                    <div class="row">
                                        <div class=
                                        "input-field col s4 push-s1">
                                            <input class="validate" id="feets"
                                            type="number">
                                        </div>


                                        <div class="col s1">
                                            <span class="unit">Ft</span>
                                        </div>


                                        <div class=
                                        "input-field col s4 push-s1">
                                            <input class="validate" id="inches"
                                            type="number">
                                        </div>


                                        <div class="col s1">
                                            <span class="unit">In</span>
                                        </div>
                                    </div>
                                </div>


                                <div class="col s5 push-s1" id="metric-view">
                                    <div class="row">
                                        <div class=
                                        "input-field col s6 push-s1">
                                            <input class="validate" id="cms"
                                            type="number">
                                        </div>


                                        <div class="col s1">
                                            <span class="unit">cms</span>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <div class="input-field col s5 push-s1">
                                    <label for="tags">Tags</label>
                                    <input class="validate" id="tags" type=
                                    "text">
                                </div>


                                <div class="input-field col s5 push-s1">
                                    <input class="form-control validate" id=
                                    "weight" required="" type="number">
                                    <label for="weight">Weight (in kgs)</label>
                                </div>
                            </div>


                            <div class="row">
                                <div class="right" id="gender">
                                    <div class="input-field col s12">
                                        <label>Gender</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <input checked class="with-gap" id=
                                        "test5" name="group3" type="radio">
                                        <label for=
                                        "test5">Male</label>&nbsp;&nbsp;
                                        <input class="with-gap" id="test4"
                                        name="group3" type="radio"> <label for=
                                        "test4">Female</label>
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <div class="input-field col s9 offset-s1">
                                    <label for=
                                    "description">Description</label>
                                    <input class="validate" id="description"
                                    type="text">
                                </div>
                            </div>
                        </form>
                    </div>


                    <div class="row">
                        <div class="col s12">
                            <div class="center-btn">
                                <a class="waves-effect waves-light btn"
                                ng-click="switchCreatePlanViews(2)">Next</a>
                            </div>
                            <br>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div ng-if=
        "!createPlanView1 && createPlanView2 && !createPlanView3 && !createPlanView4">
        <div class="row">
                <div class="col s12 m12">
                    <div class="card white">
                        <div class="container cont-create">
                            <div class="card-content black-text">
                                <div class="row c">
                                    <div class="col s12 m12">
                                        <hr>


                                        <div class="row">
                                            <div class=
                                            "col m3 vertical-line nutri">
                                                <div class="row">
                                                    <div class="col m12">
                                                        <p class="center down">
                                                        Your food plan for</p>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class=
                                            "col m2 vertical-line down nutri">
                                                <div class="row">
                                                    <div class="col m3">
                                                        <a href="#" ng-click=
                                                        "dayCount=dayCount-1"><i class="material-icons down">
                                                        navigate_before</i></a>
                                                    </div>


                                                    <div class="col m6">
                                                        <p class="center down">
                                                        Day{{dayCount}}</p>
                                                    </div>


                                                    <div class="col m3">
                                                        <a href="#" ng-click=
                                                        "dayCount=dayCount+1;nextDayPlan()">
                                                        <i class=
                                                        "material-icons down">navigate_next</i></a>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class=
                                            "col m2 vertical-line down nutri">
                                                <div class="row">
                                                    <div class="col m3">
                                                        <a href="#"><i class=
                                                        "material-icons down">navigate_before</i></a>
                                                    </div>


                                                    <div class="col m6">
                                                        <p class="center down">
                                                        Week{{weekCount}}</p>
                                                    </div>


                                                    <div class="col m3">
                                                        <a href="#" ng-click=
                                                        "weekCount=weekCount+1">
                                                        <i class=
                                                        "material-icons down">navigate_next</i></a>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="col m5 nutri">
                                                <div class="row">
                                                    <div class="col m6">
                                                        <p class="down">Copy
                                                        to</p>
                                                    </div>


                                                    <div class="col m6">
                                                        <i class=
                                                        "material-icons down nutri">
                                                        date_range</i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <hr>
                                    </div>
                                </div>


                                <div class="row" ng-repeat=
                                "key in mealNameKeys track by $index">
                                    <div class="col m12 hor-line">
                                        <div class="row">
                                            <div class="col m12">
                                                <a ng-click=
                                                "clearMeal(key)"><i class=
                                                "material-icons cyan-text">delete</i></a>

                                                <div>
                                                    <a href="#" ng-click=
                                                    "switchMealEdit(key)"><i class="material-icons">
                                                    create</i></a>

                                                    <h6 class="nutri routine">
                                                    &nbsp;&nbsp;{{key}}</h6>
                                                </div>


                                                <div ng-if="mealEdit==key">
                                                    <input ng-model="newobj">
                                                    <a href="#" ng-click=
                                                    "changeKeyName(newobj,$index)">
                                                    <i class=
                                                    "material-icons">create</i></a>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="col m12" ng-repeat=
                                        "item1 in mealPlanNameArray[key] track by $index">
                                        <div class="col m5">
                                                <p class="meal-text" ng-hide=
                                                "mealEdit">
                                                {{item1.shrt_desc}}</p>
                                            </div>


                                            <div class="col m1">
                                                <input id="serving" min="0"
                                                ng-model="amount" type="number"
                                                value="1">
                                                <p></p>
                                            </div>


                                            <div class="col m1">
                                                <p class="meal-text">
                                                {{item1.carbohydrate * amount |
                                                number}}</p>
                                            </div>


                                            <div class="col m1">
                                                <p class="meal-text">
                                                {{item1.protein * amount |
                                                number}}</p>
                                            </div>


                                            <div class="col m1">
                                                <p class="meal-text">
                                                {{item1.lipid_tot * amount |
                                                number}}</p>
                                            </div>


                                            <div class="col m1">
                                                <p class="meal-text">
                                                {{item1.fiber_td * amount |
                                                number}}</p>
                                            </div>


                                            <div class="col m1 center">
                                                <a ng-click=
                                                "removeIngredientsFromSavedMeal(value)">
                                                <i class=
                                                "material-icons b">delete</i></a>
                                            </div>
                                        </div>
                                        <span id="shortcut-menu"><a class=
                                        "cyan-text">Quick
                                        Tools</a>&nbsp;&nbsp;<span class=
                                        "cyan-text">|</span>&nbsp;&nbsp;<a class="cyan-text"
                                        ng-click="openCreatePlanModal(key)">Add
                                        Food</a></span>
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="col m12">
                                        <div class="row">
                                            <div class="col s3">
                                                <a class=
                                                "btn-floating btn-small waves-effect waves-light"
                                                id="add-meal-button" ng-click=
                                                "addMeal(meal)"><i class=
                                                "material-icons add-button routine">
                                                add</i></a>

                                                <h6 class="nutri routine">
                                                &nbsp;&nbsp;Add Meal</h6>
                                            </div>


                                            <div class="col s3">
                                                <input ng-model="meal" type=
                                                "text">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Nutritional  Information -->


            <div class="row">
                <div class="col s12 m12">
                    <div class="collapsible-header">
                        <i class="material-icons">filter_drama</i>First
                    </div>


                    <div class="collapsible-body">
                        <p>Lorem ipsum dolor sit amet.</p>
                    </div>
                </div>
            </div>
            <!-- Create Plan Modal -->


            <div class="modal" id="create-plan-modal">
                <a class=
                " modal-action modal-close waves-effect waves-green btn-flat right"
                href="#!" ng-click="emptyModalContents()">X</a>

                <div class="modal-content">
                    <div class="row">
                        <div class="col m6">
                            <div class="card white create-search-box" id=
                            "searchcard">
                                <!-- SEARCH-BOX -->


                                <div class="card-content black-text">
                                    <textarea class="form-control" id=
                                    "searchbox" ng-model="query" placeholder=
                                    "Search people & places"></textarea>
                                    <button class=
                                    "fa fa-search search-ingredient" ng-click=
                                    "searchPlan(query)" type="submit"></button>
                                </div>
                                <!-- END OF SEARCH-BOX -->
                            </div>
                        </div>


                        <div class="col m6">
                            <p>Hello</p>
                        </div>
                        <br>


                        <div class="row">
                            <div class="col m6 create-modal-half1">
                                <div ng-repeat=
                                "detail in details | limitTo:7 track by $index">
                                <p><input checklist-model="nutrientValue"
                                checklist-value="detail" class="filled-in"
                                    id="filled-in-box{{$index}}" type=
                                    "checkbox"> <label class="ing-text" for=
                                    "filled-in-box{{$index}}" id=
                                    "check-label">{{detail.shrt_desc}}</label></p>
                                </div>
                            </div>


                            <div class="col m6">
                                <div class="nutsection" ng-if=
                                "nutrientValue.length&gt;0">
                                    <div class="row hline">
                                        <div class="col m3">
                                            <p class="a ahead servehead">
                                            Serving:</p>
                                        </div>


                                        <div class="col m2">
                                            <input id="serving" ng-model=
                                            "ingQuantity" type="text" value=
                                            "1">
                                        </div>


                                        <div class="col m3">
                                            <p class="a ahead">Amt</p>
                                        </div>


                                        <div class="col m2">
                                            <p class="a ahead">Amt</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">Calories
                                            (kcal)</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].energy_kcal}}</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">Proteins</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].protein}}</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">Fats</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].lipid_tot}}</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">
                                            Carbohydrates</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].carbohydrate}}</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">Sodium</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].sodium}}</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">Fiber</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].fiber_td}}</p>
                                        </div>
                                    </div>


                                    <div class="row hline">
                                        <div class="col m6">
                                            <p class="a b ahead">Cholestrol</p>
                                        </div>


                                        <div class="col m6">
                                            <p class="a b">
                                            {{nutrientValue[nutrientValue.length-1].cholestrl}}</p>
                                        </div>
                                    </div>
                                </div>


                                <p>{{currentMealPlanName}}</p>
                                <br>
                                <br>


                                <div class="row" ng-repeat=
                                "item in nutrientValue">
                                    <div class="col m6 meal-list">
                                        <p class="ing-text meal-list" ng-if=
                                        "nutrientValue.length&gt;0">
                                        {{item.shrt_desc}}</p>
                                    </div>


                                    <div class="col m6 meal-list">
                                        <a href="#" ng-click=
                                        "removeIngredient(item)"><i class=
                                        "material-icons meal-list right dustbin"
                                        ng-if=
                                        "nutrientValue.length&gt;0">delete</i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col m12 center">
                            <a class="waves-effect waves-light btn btn-social"
                            ng-click="addContents()">Add</a> <a class=
                            "waves-effect waves-light btn btn-social largebtn"
                            ng-click="saveAndContinue()">Save and Continue</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>
$(document).ready(function() {
  $('select').material_select('update');

    $('#imperial').click(function() {
        $('#imperial-view').show();
        $('#metric-view').hide();
    });
    $('#metric').click(function() {
        $('#metric-view').show();
        $('#imperial-view').hide();
    });

    $('.collapsible').collapsible({
      accordion : false // A setting that changes the collapsible behavior to expandable instead of the default accordion style
    });

     $("textarea#searchbox").keypress(function (e) { // fire search results on pressing enter key
        if ((e.which && e.which == 13) || (e.keyCode && e.keyCode == 13)) {
            $('button[type=submit].search-ingredient').click();
            return false;
        } else {
            return true;
        }
    });
    
    $('#add-meal-text').hide();
    
    $('#add-meal-button').click(function () {
        $('#add-meal-text').show();
    });
});
</script>